require './chat_gpt'

class Summarizer
  def initialize(topic)
    @messages = [
      { 'role' => 'system', 'content' => "Your task is to scan through portions of HTML documents and extract just the useful parts of the content for someone that interested in \"#{topic}\". Be sure to include all facts and numbers that would be useful for someone doing this research in your response while leaving out any erroneous information. Inlude information about links to where additional useful information may be found. Do not do any analysis of the information, just provide the useful pieces of info. If none of the provided text is useful respond simply by saying \"Nothing\". If you are unsure whether something could be useful, it is better to err on the side of including extra information." },
    ]

    @chat_gpt = ChatGPT.new(model: 'gpt-3.5-turbo')
  end

  def summarize(text)
    messages = @messages.dup
    messages << { 'role' => 'user', 'content' => text.to_s }
    response = @chat_gpt.chat(messages)
    puts response
    @chat_gpt.get_response_message(response)
  end
end

# puts Summarizer.new("How many inches of rain will San Francisco receive on March 21, 2023?").summarize("Hourly forecast for San Francisco, California, USA Mar 20/21    Sign in  Home Home Page Newsletter About Us Contact Us Careers/Jobs Site Map Our Articles Account/Settings World Clock Main World Clock Extended World Clock Personal World Clock World Time Lookup UTC Time Time Zones Time Zones Home Time Zone Converter International Meeting Planner Event Time Announcer Time Zone Map Time Zone Abbreviations Daylight Saving Time Time Changes Worldwide Time Difference Time Zone News Calendar Calendars Home Calendar 2023 Calendar 2024 Monthly Calendar Printable Calendar (PDF) Add Your Own Calendar Events Calendar Creator Advanced Calendar Creator Holidays Worldwide On This Day in History Months of the Year Days of the Week About Leap Years Weather Worldwide Local Weather 2-Week Forecast Hour-by-Hour Past Week Climate Sun & Moon Sun & Moon Home Sun Calculator Moon Calculator Moon Phases Night Sky Meteor Showers Day and Night Map Moon Light World Map Eclipses Live Streams Seasons Astronomy News Timers Timers Home Stopwatch Timer Countdown to Any Date Spring Countdown Easter Countdown Eclipse Countdown New Year Countdown Calculators Calculators Home Date to Date Calculator (duration) Business Date to Date (exclude holidays) Date Calculator (add / subtract) Business Date (exclude holidays) Weekday Calculator Week Number Calculator Roman Numeral Converter Distance Calculator Apps & API iOS Apps Android Apps Free Clock Free Countdown API for Developers Free Fun Free & Fun Home Free Clock for Your Site Free Countdown for Your Site Word Clock Fun Holidays Alternative Age Calculator Date Pattern Calculator Fun Fact Articles My Account My Account My Location My Units My Events My World Clock My Privacy Paid Services Sign in Register    Home   Weather   USA   San Francisco   Hour-by-hour Hour-by-Hour Forecast for San Francisco, California, USA Time/General Weather Weather Today/Tomorrow Hour-by-Hour Forecast 14 Day Forecast  Yesterday/Past Weather Climate (Averages) Time Zone DST Changes Sun & Moon Sun & Moon Today Sunrise & Sunset  Moonrise & Moonset Moon Phases  Eclipses Night Sky Weather Today Weather Hourly 14 Day Forecast Yesterday/Past Weather Climate (Averages) Currently: 51 °F. Partly sunny. (Weather station: San Francisco International Airport, USA). See more current weather ×  Hour-by-hour Forecast in San Francisco — Graph °F See Historic Weather for previous weather  See Extended Forecast for more weather See weather overview  Detailed Hourly Forecast — Next 24 hours Show weather on: Next 24 hours March 20, 2023 March 21, 2023 March 22, 2023 March 23, 2023 March 24, 2023 March 25, 2023 March 26, 2023 March 27, 2023 Scroll right to see more   Conditions Comfort Precipitation Time   Temp Weather Feels Like Wind   Humidity Chance Amount 12:00 pm  Mon, Mar 20  53 °F Mostly cloudy. 49 °F 10 mph ↑ 61% 0% - 1:00 pm  54 °F Partly sunny. 50 °F 11 mph ↑ 59% 10% - 2:00 pm  54 °F Partly sunny. 50 °F 10 mph ↑ 58% 10% - 3:00 pm  54 °F Partly sunny. 50 °F 11 mph ↑ 58% 10% - 4:00 pm  54 °F Partly sunny. 50 °F 10 mph ↑ 59% 10% - 5:00 pm  53 °F Partly sunny. 49 °F 10 mph ↑ 60% 0% - 6:00 pm  52 °F Partly sunny. 48 °F 9 mph ↑ 63% 0% - 7:00 pm  51 °F Partly sunny. 47 °F 7 mph ↑ 66% 0% - 8:00 pm  48 °F Mostly cloudy. 45 °F 7 mph ↑ 72% 0% - 9:00 pm  47 °F Mostly cloudy. 44 °F 6 mph ↑ 74% 10% - 10:00 pm  47 °F Passing showers. Overcast. 44 °F 6 mph ↑ 73% 21% 0.01\" (rain) 11:00 pm  47 °F Passing showers. Overcast. 44 °F 5 mph ↑ 75% 22% 0.01\" (rain) 12:00 am  Tue, Mar 21  47 °F Passing showers. Overcast. 43 °F 5 mph ↑ 80% 22% 0.01\" (rain) 1:00 am  46 °F Passing showers. Overcast. 43 °F 5 mph ↑ 82% 21% 0.01\" (rain) 2:00 am  46 °F Overcast. 43 °F 5 mph ↑ 82% 10% - 3:00 am  47 °F Passing showers. Overcast. 43 °F 6 mph ↑ 80% 23% 0.01\" (rain) 4:00 am  49 °F Passing showers. Overcast. 44 °F 6 mph ↑ 77% 28% 0.01\" (rain) 5:00 am  49 °F Passing showers. Overcast. 44 °F 7 mph ↑ 76% 42% 0.01\" (rain) 6:00 am  49 °F A few showers. Overcast. 44 °F 7 mph ↑ 77% 62% 0.02\" (rain) 7:00 am  48 °F Light showers. Overcast. 44 °F 9 mph ↑ 83% 66% 0.04\" (rain) 8:00 am  47 °F Light showers. Overcast. 43 °F 9 mph ↑ 84% 68% 0.05\" (rain) 9:00 am  48 °F Rain showers. Overcast. 44 °F 10 mph ↑ 84% 70% 0.06\" (rain) 10:00 am  49 °F Rain showers. Overcast. 45 °F 11 mph ↑ 82% 72% 0.08\" (rain) 11:00 am  50 °F Rain. Overcast. 45 °F 12 mph ↑ 81% 73% 0.10\" (rain) * Updated Monday, March 20, 2023 6:50:25 am San Francisco time - Weather by CustomWeather, © 2023 Mar 20 Mar 21 Mar 22 Mar 23 Mar 24 Mar 25 Mar 26 Mar 27 14 days extended forecast  Need some help? Advertising  How was your experience?  Thank you for your feedback!  Contact Us  Love Our Site? Become a Supporter  Browse our site advert free.  Sun & Moon times precise to the second.  Exclusive calendar templates for PDF Calendar.  © Time and Date AS 1995–2023  Company  About us  Careers/Jobs  Contact Us  Contact Details  Sitemap  Newsletter  Legal  Link policy  Advertising  Disclaimer  Terms & Conditions  Privacy Policy  Do Not Sell My Info  My Privacy  Services  World Clock  Time Zones  Calendar  Weather  Sun & Moon  Timers  Calculators  API  Sites  timeanddate.no  timeanddate.de  Follow Us  © Time and Date AS 1995–2023. Privacy & Terms")
